[Оглавление](../../../../#readme) > [Глава 9. Динамическое программирование](../../#readme) > [Задача о рюкзаке](../README.md#readme) > Пример заполнения таблицы

# Пример заполнения таблицы

Начинаем с таблицы, в которой каждый предмет представлен отдельной строкой. В качестве столбцов - размеры "подрюкзаков" в фунтах.

Фунты|1|2|3|4
-|-|-|-|-
Гитара||||
Магнитофон||||
Ноутбук||||

Теперь нужно заполнить таблицу для каждого предмента. В каждой ячейке принимается простое решение - класть предмет в рюкзак или нет.

Для одной гитары:

Фунты|1|2|3|4
-|-|-|-|-
Гитара|1500 (Г)|1500 (Г)|1500 (Г)|1500 (Г)
Магнитофон||||
Ноутбук||||

Гитара помещается в рюкзак любого объема.

> Эта строка представляет текущую лучшую оценку мак­симума. Итак, на данный момент из этой строки следует, что для рюкзака с емкостью 4 фунта максимальная стоимость предметов составит $1500.

Переходим ко второму предмету. Теперь появляется выбор между магнито­фоном и гитарой. В каждой строке можно взять предмет этой строки или предметы, находящиеся в верхних строках. Таким образом, сейчас нельзя выбрать ноутбук, но можно выбрать магнитофон и/или гитару.

Фунты|1|2|3|4
-|-|-|-|-
Гитара|1500 (Г)|1500 (Г)|1500 (Г)|1500 (Г)
Магнитофон|1500 (Г)|1500 (Г)|1500 (Г)|3000 (М)
Ноутбук||||

Магнитофон не помещается в рюкзаки емкостью 1 фунт, 2 фунта и 3 фунта, поэтому максимумы для них не изменяются.

> Оценка только что обновилась! Имея рюкзак емкостью 4 фунта, вы можете положить в него товары стоимостью по крайней мере $3000.

Добавляем ноутбук:

Фунты|1|2|3|4
-|-|-|-|-
Гитара|1500 (Г)|1500 (Г)|1500 (Г)|1500 (Г)
Магнитофон|1500 (Г)|1500 (Г)|1500 (Г)|3000 (М)
Ноутбук|1500 (Г)|1500 (Г)|2000 (Н)|

Разбираемся с последней ячейкой. Ноутбук весит всего 3 фунта, так что еще один фунт остается свободным. В первом столбце мы уже вычислили максимальную стоимость, которую можно разместить в одном фунте - 1500 (Гитара).

2500 + 1500 > 3000, поэтому обновляем последнюю ячейку:

Фунты|1|2|3|4
-|-|-|-|-
Гитара|1500 (Г)|1500 (Г)|1500 (Г)|1500 (Г)
Магнитофон|1500 (Г)|1500 (Г)|1500 (Г)|3000 (М)
Ноутбук|1500 (Г)|1500 (Г)|2000 (Н)|3500 (Н + Г)

> Если в рюкзаке остается свободное место, вы можете использовать ответы на ранее вычисленные подзадачи для определения того, чем заполнить это пространство.

## Добавление нового элемента в задачу

Добавляем iPhone, который стоит 2000$ и весит 1 фунт.

Таблицу не нужно пересчитывать, просто добавляем новую строку.

Фунты|1|2|3|4
-|-|-|-|-
Гитара|1500 (Г)|1500 (Г)|1500 (Г)|1500 (Г)
Магнитофон|1500 (Г)|1500 (Г)|1500 (Г)|3000 (М)
Ноутбук|1500 (Г)|1500 (Г)|2000 (Н)|3500 (Н + Г)
iPhone|2000 (i)|3500 (i + Г)|3500 (i + Г)|4000 (i + Н)

Расчет последней ячейки:

i - 2000$, остается еще три фунта, которые можно заполнить на 2000$ (Ноутбук)

## Добавление еще одного элемента

MP3-плеер, весит 1 фунт, стоит 1000$. Стоит ли его брать?

Фунты|1|2|3|4
-|-|-|-|-
Гитара|1500 (Г)|1500 (Г)|1500 (Г)|1500 (Г)
Магнитофон|1500 (Г)|1500 (Г)|1500 (Г)|3000 (М)
Ноутбук|1500 (Г)|1500 (Г)|2000 (Н)|3500 (Н + Г)
iPhone|2000 (i)|3500 (i + Г)|3500 (i + Г)|4000 (i + Н)
Плеер|2000 (i)|3500 (i + Г)|4500 (П + i + Г)|4500 (П + i + Г)

Ответ: Стоит.